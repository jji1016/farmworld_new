<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.farmworld.mypage.mapper.ReviewMapper">

	
	<!-- 리뷰 관리 -->
	<select id="review1" resultType="OrderVO">
		SELECT order_num, order_date
		FROM myfarmproject_db.order
		WHERE buyer_num = 9999
	</select>
	<select id="review2" resultType="GoodsVO">
		SELECT goods_title, goods_price
		FROM myfarmproject_db.goods
		WHERE goods_num in (SELECT goods_num FROM myfarmproject_db.order
							WHERE buyer_num = 9999)
	</select>
	<select id="review3" resultType="ReviewVO">
		SELECT review_score, review_content, review_date, review_num
		FROM myfarmproject_db.review
		WHERE user_num = 9999
	</select>
	
	
	<!-- 리뷰 상세 -->
	<select id="getreviewVO" resultType="ReviewVO" parameterType="ReviewVO">
		SELECT *
		FROM myfarmproject_db.review
		WHERE review_num = #{review_num}
	</select>
	
	
	<!-- 리뷰 수정 -->
	<update id="updatereview" parameterType="ReviewVO">
		UPDATE myfarmproject_db.review
		SET review_score = #{review_score}, review_content = #{review_content}
		WHERE review_num = #{review_num}
	</update>
	
	
	<!-- 리뷰 삭제 -->
	<delete id="reviewdelete" parameterType="ReviewVO">
		DELETE FROM  myfarmproject_db.review WHERE review_num = #{review_num}
	</delete>

</mapper>
	